<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>R语言语法笔记 | Curry的小屋</title><meta name="author" content="Curry Jay"><meta name="copyright" content="Curry Jay"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="东北大学R语言学习过程记录">
<meta property="og:type" content="article">
<meta property="og:title" content="R语言语法笔记">
<meta property="og:url" content="https://curry-jay.github.io/posts/42926.html">
<meta property="og:site_name" content="Curry的小屋">
<meta property="og:description" content="东北大学R语言学习过程记录">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://curry-jay.github.io/image/top/course/dbdx/R.jpg">
<meta property="article:published_time" content="2025-01-05T11:21:05.000Z">
<meta property="article:modified_time" content="2025-06-27T10:20:49.838Z">
<meta property="article:author" content="Curry Jay">
<meta property="article:tag" content="学校学习">
<meta property="article:tag" content="东北大学">
<meta property="article:tag" content="R语言">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://curry-jay.github.io/image/top/course/dbdx/R.jpg"><link rel="shortcut icon" href="/image/favicon.png"><link rel="canonical" href="https://curry-jay.github.io/posts/42926.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.2.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":600,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Curry Jay","link":"链接: ","source":"来源: Curry的小屋","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'R语言语法笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/config/css/custom_homeCenter.css?v1"><link rel="stylesheet" href="/config/css/catagory.css?v1"><link rel="stylesheet" href="/config/css/tag.css?v1"><link rel="stylesheet" href="/config/css/rightmenu.css?v1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/theme-chalk/index.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fas fa-angle-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fas fa-angle-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fas fa-sync-alt"></i></div><div class="rightMenu-item" id="menu-darkmode"><i class="fas fa-adjust"></i></div><a class="rightMenu-item" href="/" id="menu-home"><i class="fas fa-home"></i></a></div><div class="rightMenu-group rightMenu-line rightMenuPost"><div class="rightMenu-item" id="menu-reading"><i class="fas fa-book"></i><span>阅读模式</span></div><div class="rightMenu-item" id="menu-postlink"><i class="fas fa-link"></i><span>复制本文地址</span></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="fas fa-copy"></i><span>复制内容</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="fas fa-paste"></i><span>粘贴内容</span></div><div class="rightMenu-item" id="menu-search"><i class="fas fa-search"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="fab fa-internet-explorer"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="fas fa-external-link-alt"></i><span>新建窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="fas fa-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="fas fa-image"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="fas fa-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-copylinkimg"><i class="fas fa-link"></i><span>复制图片链接</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-translate"><i class="fas fa-language"></i><span>繁简转换</span></a><div class="rightMenu-item" id="menu-asidehide"><i class="fas fa-bars"></i><span>边栏控制</span></div></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="/tags/" id="menu-tags"><i class="fas fa-tags"></i><span>文章标签</span></a><a class="rightMenu-item" href="/posts/48081.html" id="menu-waitToDo"><i class="fas fa-th-list"></i><span>待办清单</span></a><a class="rightMenu-item" href="/categories/" id="menu-folder-open"><i class="fas fa-folder-open"></i><span>博客分类</span></a><a class="rightMenu-item" href="/posts/18872.html" id="menu-copyright"><i class="fas fa-copyright"></i><span>初衷申明</span></a></div></div><div id="rightMenu-mask"></div><div id="web_bg" style="background-color: #c0c3c5;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "/image/loading.gif" data-lazy-src="/image/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-pie-chart"></i><span> 统计</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/image/top/course/dbdx/R.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "/image/loading.gif" data-lazy-src="/image/curry.jpg" alt="Logo"><span class="site-name">Curry的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">R语言语法笔记</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-pie-chart"></i><span> 统计</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div></div><div id="nav-right"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></span></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></div></nav><div id="post-info"><h1 class="post-title">R语言语法笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-05T11:21:05.000Z" title="发表于 2025-01-05 19:21:05">2025-01-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-27T10:20:49.838Z" title="更新于 2025-06-27 18:20:49">2025-06-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E6%A0%A1%E5%AD%A6%E4%B9%A0/">学校学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E6%A0%A1%E5%AD%A6%E4%B9%A0/%E4%B8%9C%E5%8C%97%E5%A4%A7%E5%AD%A6/">东北大学</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><h2 id="首先区分大小写"><a href="#首先区分大小写" class="headerlink" title="首先区分大小写"></a>首先区分大小写</h2><h2 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929141213387-235aba.png" alt="image-20220929141213387"></p>
<p>对于R可以对话时候，临时变量会存在R的内存空间中，R解释器会加载在内存中，临时变量会存在R解释器的内存空间中，小函数默认加载在内存中，大函数不加载</p>
<h2 id="赋值语句"><a href="#赋值语句" class="headerlink" title="赋值语句"></a>赋值语句</h2><p>R的赋值语句一般使用&lt;-, 当然可以使用&#x3D;，但是推荐使用&lt;-</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>注释语句用# ， 只有单行注释，没有多行</p>
<h2 id="管理空间函数"><a href="#管理空间函数" class="headerlink" title="管理空间函数"></a>管理空间函数</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929142444272-979b51.png" alt="image-20220929142444272"></p>
<h3 id="生成脚本文件"><a href="#生成脚本文件" class="headerlink" title="生成脚本文件"></a>生成脚本文件</h3><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929143033973-7e68b5.png" alt="image-20220929143033973"></p>
<h2 id="包的安装以及载入"><a href="#包的安装以及载入" class="headerlink" title="包的安装以及载入"></a>包的安装以及载入</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;包名&quot;</span><span class="punctuation">)</span></span><br><span class="line">注意安装的时候需要加上引号</span><br></pre></td></tr></table></figure>

<h3 id="载入"><a href="#载入" class="headerlink" title="载入"></a>载入</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library<span class="punctuation">(</span>包名<span class="punctuation">)</span></span><br><span class="line">不加入引号</span><br></pre></td></tr></table></figure>



<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><p>R可以处理的数据类型（也叫做模式（modes））包括数值型，字符型，布尔型，复数，</p>
<p>对于数组中（下图中第一行）存储的数据，modes必须相同</p>
<p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929144924580-ec14ef.png" alt="image-20220929144924580"></p>
<h2 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h2><p>存储数值型、字符型或者逻辑型数据的一维数组</p>
<p>使用函数c() 来进行创建向量</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">a <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">,</span> <span class="operator">-</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span></span><br><span class="line">b <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;one&quot;</span><span class="punctuation">,</span><span class="string">&quot;two&quot;</span><span class="punctuation">,</span><span class="string">&quot;three&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="built_in">c</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">FALSE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span><span class="literal">FALSE</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>对于访问，首先初始下标不是零开始</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">a<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span> 选取a中的第三个数据</span><br><span class="line">a<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">)</span><span class="punctuation">]</span> 选择a中的<span class="number">1</span>，<span class="number">3</span>，<span class="number">5</span>数据</span><br><span class="line">a<span class="punctuation">[</span><span class="number">2</span><span class="operator">:</span><span class="number">6</span><span class="punctuation">]</span> 选取a中第<span class="number">2</span>到第<span class="number">5</span>的元素</span><br></pre></td></tr></table></figure>

<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p>用函数matrix来进行创建</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">y <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">5</span><span class="punctuation">,</span> ncol<span class="operator">=</span><span class="number">4</span><span class="punctuation">)</span> <span class="comment"># 1:20 相当于c(1,2,3,....,20)</span></span><br></pre></td></tr></table></figure>

<p>默认按列优先填充</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">cells <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">26</span><span class="punctuation">,</span><span class="number">24</span><span class="punctuation">,</span><span class="number">68</span><span class="punctuation">)</span></span><br><span class="line">rnames <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;R1&quot;</span><span class="punctuation">,</span><span class="string">&quot;R2&quot;</span><span class="punctuation">)</span></span><br><span class="line">cnames <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;C1&quot;</span><span class="punctuation">,</span><span class="string">&quot;C2&quot;</span><span class="punctuation">)</span></span><br><span class="line">mymatrix <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>cells<span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> ncol<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> byrow<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="built_in">dimnames</span><span class="operator">=</span><span class="built_in">list</span><span class="punctuation">(</span>rnames<span class="punctuation">,</span> cname））</span><br></pre></td></tr></table></figure>

<p>对于这个函数调用算法，cells表述数据，byrow&#x3D;TRUE表示按行填充，</p>
<p>对于R语言一般赋值元素值的时候，要加上属性名称，eg:byrow&#x3D;TRUE,其中byrow是属性，TRUE是值</p>
<h3 id="矩阵下标使用"><a href="#矩阵下标使用" class="headerlink" title="矩阵下标使用"></a>矩阵下标使用</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">x<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span> 只选择第二行</span><br><span class="line">x<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span>只选择第二列</span><br><span class="line">x<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span>选择第一行第四列元素</span><br><span class="line">x<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">4</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">]</span> 选择第一行的四五列</span><br></pre></td></tr></table></figure>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929153233408-3202a7.png" alt="image-20220929153233408"></p>
<p>多维数组定义</p>
<p>其中vector包含了数组中的数据， dimensions是一个数值型向量，给出了各个维度下标的最大值，而dimnames是可选 的、各维度名称标签的列表。 </p>
<p>• 从数组中选取元素的方式与矩阵相同，使用方括号。</p>
<h2 id="数据框"><a href="#数据框" class="headerlink" title="数据框"></a>数据框</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20220929153542912-9186f8.png" alt="image-20220929153542912"></p>
<p>一般先构建四列元素，然后将四列元素填充进去</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">patientdata<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">2</span><span class="punctuation">]</span> <span class="comment">#选取第1、2列 ，默认选择列</span></span><br><span class="line">patientdata<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;diabetes&quot;</span><span class="punctuation">,</span><span class="string">&quot;status&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span> ，直接写入属性名字</span><br><span class="line">patientdata<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span> <span class="comment">#选取第2行</span></span><br><span class="line">patientdata<span class="operator">$</span>age <span class="comment">#选取age列</span></span><br><span class="line">patientdata<span class="operator">$</span>age<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span> <span class="comment">#选取age列的第二个</span></span><br></pre></td></tr></table></figure>

<p>#记号$用来选取一个给定数据框中的某 个特定变量，相当于一般计算机语言中 的“.”</p>
<h2 id="attach-函数"><a href="#attach-函数" class="headerlink" title="attach()函数"></a>attach()函数</h2><p>函数attach()可将数据框添加到R的搜索路 径中。R在遇到一个变量名以后(不必再使 用$)，将检查搜索路径中的数据框，以定位到这个变量</p>
<h2 id="因子"><a href="#因子" class="headerlink" title="因子"></a>因子</h2><p>类别变量和有序变量叫做因子</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">diabetes <span class="operator">&lt;-</span> factor<span class="punctuation">(</span>diabetes）</span><br><span class="line">                   将一个变量赋值为factor类型</span><br></pre></td></tr></table></figure>

<h2 id="列表List"><a href="#列表List" class="headerlink" title="列表List"></a>列表List</h2><p>列表可以用来存储一系列对象的有序集合，可以包括若干向量、矩阵、数据框，甚至其他 列表的组合</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Creating a list</span></span><br><span class="line">g <span class="operator">&lt;-</span> <span class="string">&quot;My First List&quot;</span></span><br><span class="line">h <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">25</span><span class="punctuation">,</span> <span class="number">26</span><span class="punctuation">,</span> <span class="number">18</span><span class="punctuation">,</span> <span class="number">39</span><span class="punctuation">)</span></span><br><span class="line">j <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">5</span><span class="punctuation">)</span></span><br><span class="line">k <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;one&quot;</span><span class="punctuation">,</span><span class="string">&quot;two&quot;</span><span class="punctuation">,</span><span class="string">&quot;three&quot;</span><span class="punctuation">)</span></span><br><span class="line">mylist <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span>title<span class="operator">=</span>g<span class="punctuation">,</span> ages<span class="operator">=</span>h<span class="punctuation">,</span> j<span class="punctuation">,</span> k<span class="punctuation">)</span></span><br><span class="line">mylist</span><br></pre></td></tr></table></figure>

<h2 id="数据输入"><a href="#数据输入" class="headerlink" title="数据输入"></a>数据输入</h2><p>对于R语言的文件输入，尽量将文件都转化为CSV进行读入</p>
<p>读取文件，</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"> data <span class="operator">&lt;-</span> read.table<span class="punctuation">(</span><span class="string">&quot;filename&quot;</span> <span class="punctuation">,</span> header<span class="operator">=</span><span class="literal">TRUE</span><span class="operator">/</span>false<span class="punctuation">,</span> sep<span class="operator">=</span><span class="string">&quot;,&quot;</span><span class="punctuation">,</span>row.name<span class="operator">=</span><span class="string">&quot;name&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">对于其中的参数，header表明首行是否包含了变量名，sep指定分隔符，row.names是一个可选参数，用以指定一个或多个标识符</span><br></pre></td></tr></table></figure>



<p>对于Excel数据，要进行转化 另存为 &gt;CSV</p>
<h3 id="处理数据对象常用函数"><a href="#处理数据对象常用函数" class="headerlink" title="处理数据对象常用函数"></a>处理数据对象常用函数</h3><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221007115115790-5a90a5.png" alt="image-20221007115115790"></p>
<p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221007115129279-b5fc99.png" alt="image-20221007115129279"></p>
<h2 id="键盘输入"><a href="#键盘输入" class="headerlink" title="键盘输入"></a>键盘输入</h2><p>edit()输入，必须给予赋值</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">patientdata<span class="operator">&lt;-</span>edit<span class="punctuation">(</span>patientdata<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>fix()修改</p>
<p>fix修改会自动赋值给变量值</p>
<h2 id="str函数"><a href="#str函数" class="headerlink" title="str函数"></a>str函数</h2><p>str函数可以查看一个变量的结构</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>R语言不提供多行注释</p>
<p>R语言在表中不存在的元素中，用NA而不用其他元素填充</p>
<p>无标量，全是向量，</p>
<p>数组从1开始，没有0下标</p>
<h1 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221007115622660-7b7c44.png" alt="image-20221007115622660"></p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221007115948305-6b6cee.png" alt="image-20221007115948305"></p>
<h2 id="变量重编码"><a href="#变量重编码" class="headerlink" title="变量重编码"></a>变量重编码</h2><p>根据已有的数据以及变换生成一个新变量，</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">leadership<span class="operator">$</span>agecat<span class="punctuation">[</span>leadership<span class="operator">$</span>age <span class="operator">&gt;</span> <span class="number">75</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="string">&quot;Elder&quot;</span></span><br></pre></td></tr></table></figure>

<p>也可以用within进行修改</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">leadership <span class="operator">&lt;-</span> within<span class="punctuation">(</span>leadership<span class="punctuation">,</span><span class="punctuation">&#123;</span></span><br><span class="line">		agecat <span class="operator">&lt;-</span> <span class="literal">NA</span></span><br><span class="line">		agecat<span class="punctuation">[</span>age <span class="operator">&gt;</span> <span class="number">75</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="string">&quot;Elder&quot;</span></span><br><span class="line">		agecat<span class="punctuation">[</span>age <span class="operator">&gt;=</span> <span class="number">55</span> <span class="operator">&amp;</span> age <span class="operator">&lt;=</span> <span class="number">75</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="string">&quot;Middle Aged&quot;</span></span><br><span class="line">		agecat<span class="punctuation">[</span>age <span class="operator">&lt;</span> <span class="number">55</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="string">&quot;Y&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span>）</span><br></pre></td></tr></table></figure>

<h2 id="变量重命名"><a href="#变量重命名" class="headerlink" title="变量重命名"></a>变量重命名</h2><h3 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;reshape&quot;</span><span class="punctuation">)</span> <span class="comment">#先安装包</span></span><br><span class="line">library<span class="punctuation">(</span>reshape<span class="punctuation">)</span><span class="comment">#包引入</span></span><br><span class="line">leadership <span class="operator">&lt;-</span>rename<span class="punctuation">(</span>leadership<span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span>manager<span class="operator">=</span><span class="string">&quot;managerID&quot;</span><span class="punctuation">,</span>date<span class="operator">=</span><span class="string">&quot;testDate&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="names"><a href="#names" class="headerlink" title="names"></a>names</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查看所有变量名</span></span><br><span class="line"><span class="built_in">names</span><span class="punctuation">(</span>leadership<span class="punctuation">)</span></span><br><span class="line"><span class="comment">#将第二个变量重命名</span></span><br><span class="line"><span class="built_in">names</span><span class="punctuation">(</span>leadership<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="string">&quot;testDate&quot;</span></span><br><span class="line"><span class="comment">#将q1到q5重命名为item1到item5</span></span><br><span class="line"><span class="built_in">names</span><span class="punctuation">(</span>leadership<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">6</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;item1&quot;</span><span class="punctuation">,</span><span class="string">&quot;item2&quot;</span><span class="punctuation">,</span><span class="string">&quot;item3&quot;</span><span class="punctuation">,</span><span class="string">&quot;item4&quot;</span><span class="punctuation">,</span><span class="string">&quot;item5&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="缺失值异常值处理"><a href="#缺失值异常值处理" class="headerlink" title="缺失值异常值处理"></a>缺失值异常值处理</h2><p>在数据缺失值为NA，数据不可能出现值用NaN，无穷大inf</p>
<h3 id="检查缺失值函数"><a href="#检查缺失值函数" class="headerlink" title="检查缺失值函数"></a>检查缺失值函数</h3><p>is.na(),可以检查哪些值是缺失值</p>
<h3 id="重编码缺失值"><a href="#重编码缺失值" class="headerlink" title="重编码缺失值"></a>重编码缺失值</h3><p>确实的值可能被自动修复为一个值，那么就需要进行重新编码，不影响计算</p>
<h3 id="计算时候移除缺失值"><a href="#计算时候移除缺失值" class="headerlink" title="计算时候移除缺失值"></a>计算时候移除缺失值</h3><p>很多函数自带移除缺失值的属性，na.rm&#x3D;TRUE</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">例如y <span class="operator">&lt;-</span> <span class="built_in">sum</span><span class="punctuation">(</span>x<span class="punctuation">,</span> na.rm<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>删除所有缺失数据</p>
<p>na.omit()可以删除所有含缺失数据的行</p>
<h2 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">as.Date<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">as.Date<span class="punctuation">(</span>x<span class="punctuation">,</span><span class="string">&quot;input_format&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221013140501722-99cbf5.png" alt="image-20221013140501722"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">日期内建还可以用来做加减</span><br><span class="line">计算天数</span><br><span class="line">startdate &lt;- as.Date(&quot;2004-02-13&quot;)</span><br><span class="line">enddate &lt;- as.Date(&quot;2011-01-22&quot;)</span><br><span class="line">days &lt;- enddate - startdate</span><br><span class="line"></span><br><span class="line">计算周数：today &lt;- Sys.Date()</span><br><span class="line">dob &lt;- as.Date(&quot;1956-10-12&quot;)</span><br><span class="line">difftime(today, dob, units=&quot;weeks&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="数据转换函数"><a href="#数据转换函数" class="headerlink" title="数据转换函数"></a>数据转换函数</h2><p><img src= "/image/loading.gif" data-lazy-src="/image/loading.gif" data-original="https://raw.githubusercontent.com/Curry-jay/image-store/main/PicGo/2025/01/11/image-20221013141149059-ee9a17.png" alt="image-20221013141149059"></p>
<h2 id="数据排序"><a href="#数据排序" class="headerlink" title="数据排序"></a>数据排序</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">使用order<span class="punctuation">(</span>value<span class="punctuation">)</span>函数来进行排序</span><br><span class="line">order<span class="punctuation">(</span>value<span class="punctuation">)</span>会返回一个排序的先后顺序，所以需要取出来就好</span><br><span class="line"></span><br><span class="line">默认升序</span><br><span class="line">newdata <span class="operator">&lt;-</span> leadership<span class="punctuation">[</span>order<span class="punctuation">(</span>leadership<span class="operator">$</span>age<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br><span class="line">降序：加个负号</span><br><span class="line">newdata <span class="operator">&lt;-</span> leadership<span class="punctuation">[</span>order<span class="punctuation">(</span><span class="operator">-</span>leadership<span class="operator">$</span>age<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br><span class="line">多变量排序</span><br><span class="line">newdata <span class="operator">&lt;-</span> leadership<span class="punctuation">[</span>order<span class="punctuation">(</span>leadership<span class="operator">$</span>gender<span class="punctuation">,</span>leadership<span class="operator">$</span>age<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<h2 id="数据合并"><a href="#数据合并" class="headerlink" title="数据合并"></a>数据合并</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">merge<span class="punctuation">(</span><span class="punctuation">)</span>  通过一个变量或者多个变量进行连接</span><br><span class="line"></span><br><span class="line">total <span class="operator">&lt;-</span> merge<span class="punctuation">(</span>dataframeA<span class="punctuation">,</span> dataframeB<span class="punctuation">,</span> by<span class="operator">=</span><span class="string">&quot;ID&quot;</span><span class="punctuation">)</span>  两个数据表通过ID来进行合并</span><br><span class="line">  也可以用多个来进行合并by<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;ID&quot;</span><span class="punctuation">,</span><span class="string">&quot;Country&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">cbind<span class="punctuation">(</span><span class="punctuation">)</span>  直接进行横向合并，顺序一样两个表</span><br></pre></td></tr></table></figure>



<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">rbind<span class="punctuation">(</span><span class="punctuation">)</span>添加行  两个数据库必须要有相同的变量，但是顺序不必相同</span><br><span class="line">如果有多余的变量：删除多余变量；对少的变量创建新变量并且值设为<span class="literal">NA</span></span><br></pre></td></tr></table></figure>

<h2 id="数据选子集"><a href="#数据选子集" class="headerlink" title="数据选子集"></a>数据选子集</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">选入变量 ： 用<span class="punctuation">[</span>行，列<span class="punctuation">]</span>来进行选取</span><br><span class="line"><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">100</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="literal">FALSE</span><span class="punctuation">)</span><span class="punctuation">]</span>  前面用来创建<span class="number">1</span><span class="operator">-</span><span class="number">100</span>的数字，后面来挑选，挑选第一个，不选第二个，但由于数据长度短，会进行循环</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">丢弃变量  <span class="operator">%in%</span> </span><br><span class="line">！<span class="built_in">names</span><span class="punctuation">(</span>leadership<span class="punctuation">)</span> <span class="operator">%in%</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;q3&quot;</span><span class="punctuation">,</span><span class="string">&quot;q4&quot;</span><span class="punctuation">)</span>  从leadership的名字集合里面，排除q3和q4</span><br><span class="line"></span><br><span class="line">因为知道q3和q4是第<span class="number">7</span>个和第<span class="number">8</span>个变量，也可以使用语句将其剔除：</span><br><span class="line">newdata <span class="operator">&lt;-</span> leadership<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">7</span><span class="punctuation">,</span><span class="operator">-</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line">让对象赋<span class="literal">NULL</span></span><br><span class="line">leadership<span class="operator">$</span>q3 <span class="operator">&lt;-</span> leadership<span class="operator">$</span>q4 <span class="operator">&lt;-</span> <span class="literal">NULL</span>  但是这对leadership会更改</span><br><span class="line">相当于：• leadership<span class="operator">$</span>q3 <span class="operator">&lt;-</span> <span class="literal">NULL</span></span><br><span class="line">       • leadership<span class="operator">$</span>q4 <span class="operator">&lt;-</span> <span class="literal">NULL</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">选入观测</span><br><span class="line">选择了所有<span class="number">30</span>岁以上的男性  布尔类型变量进行计算</span><br><span class="line">newdata <span class="operator">&lt;-</span> leadership<span class="punctuation">[</span>leadership<span class="operator">$</span>gender<span class="operator">==</span><span class="string">&quot;M&quot;</span><span class="operator">&amp;</span>leadership<span class="operator">$</span>age <span class="operator">&gt;</span> <span class="number">30</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">subset<span class="punctuation">(</span><span class="punctuation">)</span>函数</span><br><span class="line">newdata <span class="operator">&lt;-</span> subset<span class="punctuation">(</span>leadership<span class="punctuation">,</span> age <span class="operator">&gt;=</span> <span class="number">35</span> <span class="operator">|</span> age<span class="operator">&lt;</span> <span class="number">24</span><span class="punctuation">,</span> select<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span>q1<span class="punctuation">,</span> q2<span class="punctuation">,</span>q3<span class="punctuation">,</span>q4<span class="punctuation">)</span></span><br><span class="line">    选择子集选择行，select选择列</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">sample<span class="punctuation">(</span><span class="punctuation">)</span> 随机抽样  可以从数据集中（有放回或无放回的）抽取n个</span><br><span class="line">sample<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span>nrow<span class="punctuation">(</span>leadership<span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span>replace<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line">sample<span class="punctuation">(</span><span class="punctuation">)</span>函数中的第一个参数是一个由要从中抽样的元素组成的向量。在这里，这个向量是<span class="number">1</span>到数据框中观测的数量，第二个参数是要抽取的元素数量，第三个参数表示无放回抽样</span><br></pre></td></tr></table></figure>



<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">操作SQL语句</span><br><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;sqldf&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>sqldf<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h2 id="数据转置"><a href="#数据转置" class="headerlink" title="数据转置"></a>数据转置</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">转置：反转行和列。使用函数t<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">分类汇总的函数为aggregate<span class="punctuation">(</span>x<span class="punctuation">,</span> by<span class="punctuation">,</span> FUN<span class="punctuation">)</span></span><br><span class="line">• 其中x是待分类汇总的数据对象；by是一个变量名组成的列表，用于对原有观测进行分类；FUN是用来计算描述性统计量的函数，它将被用来计算新观测中的值</span><br></pre></td></tr></table></figure>

<h2 id="数据整合和重构"><a href="#数据整合和重构" class="headerlink" title="数据整合和重构"></a>数据整合和重构</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">首先将数据melt后来dcast来整合</span><br><span class="line"></span><br><span class="line">library<span class="punctuation">(</span>reshape2<span class="punctuation">)</span></span><br><span class="line"><span class="comment"># melt data</span></span><br><span class="line">md <span class="operator">&lt;-</span> melt<span class="punctuation">(</span>mydata<span class="punctuation">,</span> id<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;ID&quot;</span><span class="punctuation">,</span><span class="string">&quot;Time&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment">#newdata &lt;- dcast(md, formula, FUN)</span></span><br><span class="line">md为已融合的数据，formula描述了想要的最后结果，而FUN是（可选的）数据整合函数</span><br><span class="line">newdata <span class="operator">&lt;-</span> dcast<span class="punctuation">(</span>md<span class="punctuation">,</span> ID<span class="operator">+</span>Time<span class="operator">~</span>vailable<span class="punctuation">)</span></span><br><span class="line">波浪线左边是不变的东西</span><br></pre></td></tr></table></figure>

<h2 id="条件与循环"><a href="#条件与循环" class="headerlink" title="条件与循环"></a>条件与循环</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span><span class="punctuation">(</span>cond<span class="punctuation">)</span>statement</span><br><span class="line"><span class="keyword">if</span><span class="punctuation">(</span>cond<span class="punctuation">)</span>statement <span class="keyword">else</span> statement</span><br><span class="line">    </span><br><span class="line"><span class="keyword">else</span>在书写时候不可以放在句首</span><br><span class="line"></span><br><span class="line">ifelse<span class="punctuation">(</span>cond<span class="punctuation">,</span>statement1<span class="punctuation">,</span>statement2<span class="punctuation">)</span> 判断条件，条件为真运行第一个语句</span><br><span class="line">条件为假运行第二个，同时有返回值，将执行语句结果返回</span><br><span class="line"></span><br><span class="line"><span class="built_in">switch</span><span class="punctuation">(</span>expr<span class="punctuation">,</span>...<span class="punctuation">)</span></span><br><span class="line">feelings <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;sad&quot;</span><span class="punctuation">,</span><span class="string">&quot;afraid&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> feelings<span class="punctuation">)</span></span><br><span class="line">	print<span class="punctuation">(</span></span><br><span class="line">		<span class="built_in">switch</span><span class="punctuation">(</span>i<span class="punctuation">,</span>happy <span class="operator">=</span> <span class="string">&quot;I am glad you are happy&quot;</span><span class="punctuation">,</span></span><br><span class="line">					afraid <span class="operator">=</span> <span class="string">&quot;There is nothing to fear&quot;</span><span class="punctuation">,</span></span><br><span class="line">					sad <span class="operator">=</span> <span class="string">&quot;Cheer up&quot;</span><span class="punctuation">,</span></span><br><span class="line">					angry <span class="operator">=</span> <span class="string">&quot;Calm down now&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>var <span class="keyword">in</span> seq<span class="punctuation">)</span> statemen</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="punctuation">(</span>cond<span class="punctuation">)</span> statemen</span><br><span class="line"></span><br><span class="line">循环不能一个一个处理</span><br></pre></td></tr></table></figure>

<h2 id="用户自编函数"><a href="#用户自编函数" class="headerlink" title="用户自编函数"></a>用户自编函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">myfunction <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>arg1<span class="punctuation">,</span> arg2<span class="punctuation">,</span> ... <span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">	statements</span><br><span class="line">	<span class="built_in">return</span><span class="punctuation">(</span>object<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h2><p>如果在进行赋值的时候，不用赋值，那么值原本不会更新。</p>
<h1 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h1><h2 id="列联表"><a href="#列联表" class="headerlink" title="列联表"></a>列联表</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">table<span class="punctuation">(</span><span class="punctuation">)</span><span class="operator">:</span> 使用 N 个类别型变量（因子）创建一个 N维列联表（即频数表）</span><br><span class="line"></span><br><span class="line">将因子列出来频数</span><br></pre></td></tr></table></figure>

<h2 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">• 条形图通过垂直的或水平的条形展示了类别型变量的分布（频数）</span><br><span class="line">barplot<span class="punctuation">(</span>counts<span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span> ylab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span>horiz<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line">其中的counts是一个向量或一个矩阵<span class="punctuation">,</span>horiz表示水平放置</span><br><span class="line">要多个列联表（二维）beside<span class="operator">=</span><span class="literal">TRUE</span> 表示分组条形图</span><br><span class="line">默认为堆砌条形图</span><br><span class="line">col<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;red&quot;</span><span class="punctuation">,</span><span class="string">&quot;yellow&quot;</span><span class="punctuation">,</span><span class="string">&quot;green&quot;</span><span class="punctuation">)</span> 可以用来设置颜色</span><br><span class="line">legend<span class="operator">=</span>rownames<span class="punctuation">(</span>counts<span class="punctuation">)</span> 展示图例信息，这里展示的是counts的行信息</span><br></pre></td></tr></table></figure>

<h2 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels）</span><br><span class="line">    其中x是一个非负数值向量，表示每个扇形的面积，而labels则是表示各扇形标签的字符型向量。</span><br><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;plotrix&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>plotrix<span class="punctuation">)</span></span><br><span class="line">pie3D<span class="punctuation">(</span>x<span class="punctuation">,</span> labels）</span><br></pre></td></tr></table></figure>

<h2 id="扇形图"><a href="#扇形图" class="headerlink" title="扇形图"></a>扇形图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library<span class="punctuation">(</span>plotrix<span class="punctuation">)</span></span><br><span class="line">fan.plot<span class="punctuation">(</span>x<span class="punctuation">,</span> labels）</span><br></pre></td></tr></table></figure>

<h2 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">直方图来展示连续性变量的分布</span><br><span class="line">hist<span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line">其中的x是一个由数据值组成的数值向量。参数freq<span class="operator">=</span><span class="literal">FALSE</span>表示根据概率密度而不是频数绘制图形。参数breaks用于控制组的数量。在定义直方图中的单元时，默认将生成等距切分。</span><br><span class="line">col<span class="operator">=</span><span class="string">&quot;red&quot;</span>  设置颜色为红色</span><br><span class="line">xlab<span class="operator">=</span><span class="string">&quot;&quot;</span> 设置x轴</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="核密度图"><a href="#核密度图" class="headerlink" title="核密度图"></a>核密度图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">核密度估计是用于估计随机变量概率密度函数的一种非参数方法。核密度估计不利用数据分布的先验知识，对数据分布不附加任何假定，是一种从数据样本本身出发研究数据分布特征的方法</span><br><span class="line"></span><br><span class="line">plot<span class="punctuation">(</span>density<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> 其中的x是一个数值型向量</span><br></pre></td></tr></table></figure>

<h2 id="lines函数"><a href="#lines函数" class="headerlink" title="lines函数"></a>lines函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">plot<span class="punctuation">(</span><span class="punctuation">)</span>函数会创建一幅新的图形，所以要向一幅已经存在的图形上叠加一条密度曲线，可以使用lines<span class="punctuation">(</span><span class="punctuation">)</span>函数</span><br><span class="line">lines可以叠加一条曲线，在原来图上</span><br></pre></td></tr></table></figure>

<h2 id="箱线图-盒装图"><a href="#箱线图-盒装图" class="headerlink" title="箱线图&#x2F;盒装图"></a>箱线图&#x2F;盒装图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">箱线图通过绘制连续型变量的五数总括，即下边缘、下四分位数、中位数、上四分位数以及上边缘，描述了连续型变量的分布</span><br><span class="line"></span><br><span class="line">boxplot（x）</span><br></pre></td></tr></table></figure>

<h3 id="并列箱线图进行跨组比较"><a href="#并列箱线图进行跨组比较" class="headerlink" title="并列箱线图进行跨组比较"></a>并列箱线图进行跨组比较</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">boxplot<span class="punctuation">(</span>formula<span class="punctuation">,</span> data<span class="operator">=</span>dataframe<span class="punctuation">)</span></span><br><span class="line">其中的formula是一个公式，dataframe代表提供数据的数据框（或列表）。</span><br><span class="line">eg<span class="operator">:</span>boxplot<span class="punctuation">(</span>mpg<span class="operator">~</span>cyl<span class="punctuation">,</span>data<span class="operator">=</span>mtcars<span class="punctuation">,</span></span><br><span class="line">main<span class="operator">=</span><span class="string">&quot;Car Milage Data&quot;</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&quot;Number of Cylinders&quot;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&quot;Miles Per Gallon)</span></span><br></pre></td></tr></table></figure>

<h2 id="点图"><a href="#点图" class="headerlink" title="点图"></a>点图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">点图提供了一种在简单水平刻度上绘制大量有标签值的方法</span><br><span class="line">dotchart<span class="punctuation">(</span>x<span class="punctuation">,</span>labels<span class="operator">=</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h2 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">用来描述两个连续型变量间的关系———最好的图</span><br><span class="line"></span><br><span class="line">是plot<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">)</span>，其中，x和y是数值型向量，代表着图形中的<span class="punctuation">(</span>x<span class="punctuation">,</span>y<span class="punctuation">)</span>点</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="abline函数"><a href="#abline函数" class="headerlink" title="abline函数"></a><code>abline</code>函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">abline<span class="punctuation">(</span><span class="punctuation">)</span>函数用来添加最佳拟合的线性直线</span><br></pre></td></tr></table></figure>

<h2 id="散点图矩阵"><a href="#散点图矩阵" class="headerlink" title="散点图矩阵"></a>散点图矩阵</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">pairs<span class="punctuation">(</span><span class="punctuation">)</span>函数可以创建基础的散点图矩阵</span><br><span class="line">eg<span class="operator">:</span>pairs<span class="punctuation">(</span><span class="operator">~</span> mpg <span class="operator">+</span> disp <span class="operator">+</span> drat <span class="operator">+</span> wt<span class="punctuation">,</span> data<span class="operator">=</span>mtcars<span class="punctuation">,</span>main<span class="operator">=</span><span class="string">&quot;Basic Scatterplot Matrix&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="高密度散点图"><a href="#高密度散点图" class="headerlink" title="高密度散点图"></a>高密度散点图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">smoothScatter<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">可利用核密度估计生成用颜色密度来表示点分布的散点图</span><br><span class="line"></span><br><span class="line">hexbin<span class="punctuation">(</span><span class="punctuation">)</span> </span><br><span class="line">hexbin包中的hexbin<span class="punctuation">(</span><span class="punctuation">)</span>函数将二元变量的封箱放到六边形单元格中。</span><br><span class="line"></span><br><span class="line">IDPmisc包中的iplot<span class="punctuation">(</span><span class="punctuation">)</span>函数可通过颜色来展示点的密度（在某特定点上数据点的数目）</span><br></pre></td></tr></table></figure>

<h2 id="三维散点图—没用"><a href="#三维散点图—没用" class="headerlink" title="三维散点图—没用"></a>三维散点图—没用</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">scatterplot3d中的scatterplot3d<span class="punctuation">(</span><span class="punctuation">)</span>函数可绘制三维散点图。格式：</span><br><span class="line">scatterplot3d<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> z<span class="punctuation">)</span></span><br><span class="line">• x被绘制在水平轴上，y被绘制在竖直轴上，z被绘制在透视轴上</span><br></pre></td></tr></table></figure>

<h2 id="气泡图"><a href="#气泡图" class="headerlink" title="气泡图"></a>气泡图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">symbols<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> circle<span class="operator">=</span>radius<span class="punctuation">)</span></span><br><span class="line">• 其中x、y和radius是需要设定的向量，分别表示x、y坐标和圆圈半径。</span><br></pre></td></tr></table></figure>

<h2 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">– plot<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> type<span class="operator">=</span><span class="punctuation">)</span> </span><br><span class="line">– lines<span class="punctuation">(</span>x<span class="punctuation">,</span>y<span class="punctuation">,</span>type<span class="operator">=</span><span class="punctuation">)</span></span><br><span class="line">由两种方式来创建</span><br><span class="line"></span><br><span class="line">区别：</span><br><span class="line">plot<span class="punctuation">(</span><span class="punctuation">)</span>函数是被调用时即创建一幅新图，自己创建一个图片</span><br><span class="line">lines<span class="punctuation">(</span><span class="punctuation">)</span>函数则是在已存在的图形上添加信息，并不能自己生成图形</span><br><span class="line"></span><br><span class="line">lines<span class="punctuation">(</span><span class="punctuation">)</span>函数通常是在plot<span class="punctuation">(</span><span class="punctuation">)</span>函数生成一幅图形后再被调用</span><br></pre></td></tr></table></figure>

<p>对于type参数</p>
<h2 id="相关图"><a href="#相关图" class="headerlink" title="相关图"></a>相关图</h2><p>展示两两之间的相关性</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">cor<span class="punctuation">(</span><span class="punctuation">)</span>函数用来计算相关性</span><br><span class="line"></span><br><span class="line">采用corrgram<span class="punctuation">(</span><span class="punctuation">)</span>函数来绘画</span><br><span class="line">corrgram<span class="punctuation">(</span>x<span class="punctuation">,</span> order<span class="operator">=</span><span class="punctuation">,</span> panel<span class="operator">=</span><span class="punctuation">,</span> text.panel<span class="operator">=</span><span class="punctuation">,</span>diag.panel<span class="operator">=</span><span class="punctuation">)</span></span><br><span class="line">– 其中，x是一行一个观测的数据框。当order <span class="operator">=</span><span class="literal">TRUE</span>时，相关矩阵将使用主成分分析法对变量重新排序，这使得二元变量的关系模式更为明显。选项panel 设定非对角线面板使用的元素类型。可通过选项lower.panel和upper.panel来分别设置主对角线下方和上方的元素类型。text.panel和diag.panel选项控制着主对角线元素类型</span><br><span class="line"></span><br><span class="line">eg<span class="operator">:</span>lower.panel<span class="operator">=</span>panel.shade<span class="punctuation">,</span>左下角用阴影展示</span><br><span class="line">upper.panel<span class="operator">=</span>panel.pie右上角用圆形展示</span><br><span class="line">text.panel<span class="operator">=</span>panel.txt 对角线用txt展示</span><br><span class="line">panel.ellipse 用椭圆表示</span><br></pre></td></tr></table></figure>

<h2 id="马赛克图"><a href="#马赛克图" class="headerlink" title="马赛克图"></a>马赛克图</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">马赛克图用于可视化两个以上的类别型变量</span><br><span class="line"></span><br><span class="line">mosaic<span class="punctuation">(</span>table<span class="punctuation">)</span> – 其中table是数组形式的列联表。</span><br><span class="line">– 添加选项shade <span class="operator">=</span> <span class="literal">TRUE</span>将根据拟合模型的皮</span><br><span class="line">尔逊残差值对图形上色。</span><br><span class="line">– 添加选项legend <span class="operator">=</span> <span class="literal">TRUE</span>将展示残差的图例</span><br></pre></td></tr></table></figure>



<h2 id="注意-2"><a href="#注意-2" class="headerlink" title="注意"></a>注意</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">rainbow<span class="punctuation">(</span>times<span class="punctuation">)</span><span class="operator">&gt;</span> 可以取出来times个数的颜色</span><br></pre></td></tr></table></figure>

<h1 id="基本统计分析"><a href="#基本统计分析" class="headerlink" title="基本统计分析"></a>基本统计分析</h1><h2 id="统计函数"><a href="#统计函数" class="headerlink" title="统计函数"></a>统计函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">mean<span class="punctuation">(</span>x<span class="punctuation">)</span> 平均数</span><br><span class="line"></span><br><span class="line">• median<span class="punctuation">(</span>x<span class="punctuation">)</span> 中位数</span><br><span class="line"></span><br><span class="line">• var<span class="punctuation">(</span>x<span class="punctuation">)</span> 方差（ ）</span><br><span class="line"></span><br><span class="line">• sd<span class="punctuation">(</span>x<span class="punctuation">)</span> 标准差（σ ）</span><br><span class="line"></span><br><span class="line">• <span class="built_in">range</span><span class="punctuation">(</span>x<span class="punctuation">)</span> 求值域</span><br><span class="line"></span><br><span class="line">• <span class="built_in">sum</span><span class="punctuation">(</span>x<span class="punctuation">)</span> 求和</span><br><span class="line"></span><br><span class="line">• <span class="built_in">min</span><span class="punctuation">(</span>x<span class="punctuation">)</span> 求最小值</span><br><span class="line"></span><br><span class="line">• <span class="built_in">max</span><span class="punctuation">(</span>x<span class="punctuation">)</span> 求最大值</span><br></pre></td></tr></table></figure>

<h2 id="summary函数"><a href="#summary函数" class="headerlink" title="summary函数"></a><code>summary</code>函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">– summary<span class="punctuation">(</span><span class="punctuation">)</span>函数提供了最小值、最大值、四分位数和数值型变量的均值，以及因子向量和逻</span><br><span class="line">辑型向量的频数统计</span><br></pre></td></tr></table></figure>

<h2 id="sapply函数"><a href="#sapply函数" class="headerlink" title="sapply函数"></a><code>sapply</code>函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">sapply<span class="punctuation">(</span>x<span class="punctuation">,</span> FUN<span class="punctuation">,</span> options<span class="punctuation">)</span></span><br><span class="line">• 其中的x是数据框（或矩阵），FUN为一个任意的函数。sapply对每列应用函数FUN。如果指定了options，它们将被传递给FUN。在这里插入的典型函数有mean、sd、var、<span class="built_in">min</span>、<span class="built_in">max</span>、median、<span class="built_in">length</span>、<span class="built_in">range</span>和quantile</span><br></pre></td></tr></table></figure>

<h2 id="aggregate函数"><a href="#aggregate函数" class="headerlink" title="aggregate函数"></a><code>aggregate</code>函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">各组的描述性统计信息</span><br><span class="line">eg<span class="operator">:</span>aggregate<span class="punctuation">(</span>mtcars<span class="punctuation">[</span>myvars<span class="punctuation">]</span><span class="punctuation">,</span> by<span class="operator">=</span><span class="built_in">list</span><span class="punctuation">(</span>am<span class="operator">=</span>mtcars<span class="operator">$</span>am<span class="punctuation">)</span><span class="punctuation">,</span> mean<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">第一个参数用来选择数据集合，第二个参数选定一个因子类型变量，将数据进行分组，最后一个变量将分好组的数据用该函数进行计算</span><br><span class="line"></span><br><span class="line">aggregate<span class="punctuation">(</span><span class="punctuation">)</span>仅允许在每次调用中使用平均数、标准差这样的单返回值函数。它无法一次返回若干个统计量，即这个函数只能是一个返回值</span><br></pre></td></tr></table></figure>

<h2 id="by函数"><a href="#by函数" class="headerlink" title="by函数"></a><code>by</code>函数</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">by<span class="punctuation">(</span>data<span class="punctuation">,</span> INDICES<span class="punctuation">,</span> FUN<span class="punctuation">)</span></span><br><span class="line">• 其中data是一个数据框或矩阵，INDICES是一个因子或因子组成的列表，定义了分组，FUN是任意函数：单返回值函数和多返回值函数均可</span><br></pre></td></tr></table></figure>

<h2 id="频数表"><a href="#频数表" class="headerlink" title="频数表"></a>频数表</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">table<span class="punctuation">(</span>value<span class="punctuation">)</span>  来计算频数</span><br><span class="line">prop.table<span class="punctuation">(</span>value<span class="punctuation">)</span>将这些频数转化为比例值</span><br></pre></td></tr></table></figure>

<h2 id="列联表-1"><a href="#列联表-1" class="headerlink" title="列联表"></a>列联表</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">mytable <span class="operator">&lt;-</span> table<span class="punctuation">(</span>A<span class="punctuation">,</span> B<span class="punctuation">)</span> 其中的A是行变量，B是列变量</span><br><span class="line"></span><br><span class="line">xtabs<span class="punctuation">(</span><span class="punctuation">)</span>函数还可使用公式风格的输入创建列联表，格式为：</span><br><span class="line">mytable <span class="operator">&lt;-</span> xtabs<span class="punctuation">(</span><span class="operator">~</span> A <span class="operator">+</span> B<span class="punctuation">,</span> data<span class="operator">=</span>mydata<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">使用margin.table<span class="punctuation">(</span><span class="punctuation">)</span>函数生成边际和</span><br><span class="line">margin.table<span class="punctuation">(</span>mytable<span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="comment">#row sums</span></span><br><span class="line">margin.table<span class="punctuation">(</span>mytable<span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span> <span class="comment"># column sums</span></span><br><span class="line">使用prop.table<span class="punctuation">(</span><span class="punctuation">)</span>函数生成比例（小数）。</span><br><span class="line">prop.table<span class="punctuation">(</span>mytable<span class="punctuation">)</span> <span class="comment"># cell proportions</span></span><br><span class="line">prop.table<span class="punctuation">(</span>mytable<span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span> <span class="comment"># row proportions</span></span><br><span class="line">prop.table<span class="punctuation">(</span>mytable<span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span> <span class="comment"># column propor</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">CrossTable<span class="punctuation">(</span><span class="punctuation">)</span>创建二维列联表</span><br><span class="line">library<span class="punctuation">(</span>gmodels<span class="punctuation">)</span></span><br><span class="line">CrossTable<span class="punctuation">(</span>Arthritis<span class="operator">$</span>Treatment<span class="punctuation">,</span></span><br><span class="line">Arthritis<span class="operator">$</span>Improved<span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="多维列联表"><a href="#多维列联表" class="headerlink" title="多维列联表"></a>多维列联表</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">table<span class="punctuation">(</span><span class="punctuation">)</span>和xtabs<span class="punctuation">(</span><span class="punctuation">)</span>可以基于三个或更多的类别型变量生成多维列联表。</span><br><span class="line">• margin.table<span class="punctuation">(</span><span class="punctuation">)</span>、prop.table<span class="punctuation">(</span><span class="punctuation">)</span>和addmargins<span class="punctuation">(</span><span class="punctuation">)</span>函数可以推广到高于二维的情况。</span><br><span class="line"> ftable<span class="punctuation">(</span><span class="punctuation">)</span>函数可以以一种紧凑而吸引人的方式输出多维列联表</span><br></pre></td></tr></table></figure>

<h2 id="卡方检验"><a href="#卡方检验" class="headerlink" title="卡方检验"></a>卡方检验</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">chisq.test()函数对二维列联表的行变量和列变量进行卡方独立性检验</span><br><span class="line">    </span><br><span class="line">   注意：卡方检验有四条假设（参考Wikipedia：Pearson<span class="string">&#x27;s chi-squared test），其</span></span><br><span class="line"><span class="string">中一条假设是每个单元频数都要大于5</span></span><br></pre></td></tr></table></figure>

<h2 id="fisher列联表"><a href="#fisher列联表" class="headerlink" title="fisher列联表"></a>fisher列联表</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Fisher精确检验的原假设是：边界固定的列联表中行和列是相互独立的。</span><br><span class="line">• 可以使用fisher.test()函数进行Fisher精确检验。其调用格式为fisher.test(mytable)，其中的mytable是一个二维列联表。</span><br><span class="line">• 注意：fisher.test()函数可以在任意行列数大于等于<span class="number">2</span>的二维列联表上使用，但不能用于<span class="number">2</span>×<span class="number">2</span>的列联表</span><br></pre></td></tr></table></figure>

<h2 id="Cochran-Mantel-Haenszel检验"><a href="#Cochran-Mantel-Haenszel检验" class="headerlink" title="Cochran-Mantel-Haenszel检验"></a><code>Cochran-Mantel-Haenszel</code>检验</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">mantelhaen.test<span class="punctuation">(</span><span class="punctuation">)</span>函数可用来进行Cochran<span class="operator">-</span> Mantel<span class="operator">-</span>Haenszel卡方检验。</span><br><span class="line">• 其原假设是：两个名义变量在第三个变量的每一层中都是条件独立的。</span><br></pre></td></tr></table></figure>

<h2 id="相关性度量"><a href="#相关性度量" class="headerlink" title="相关性度量"></a>相关性度量</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">的assocstats()函数可以用来计算二维列联表的</span><br><span class="line">– phi系数</span><br><span class="line">– 列联系数</span><br><span class="line">– Cramer<span class="string">&#x27;s V系</span></span><br></pre></td></tr></table></figure>

<h2 id="相关性检验"><a href="#相关性检验" class="headerlink" title="相关性检验"></a>相关性检验</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">Pearson积差相关系数衡量了两个定量变量之间的线性相关程度。</span><br><span class="line">• Spearman等级相关系数则衡量分级定序变量之间的相关程度。</span><br><span class="line">• Kendall<span class="string">&#x27;s Tau相关系数是一种非参数的等级相关度量</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">cor<span class="punctuation">(</span><span class="punctuation">)</span>函数可以计算Pearson、Spearman和Kendall相关系数。</span><br><span class="line">• cov<span class="punctuation">(</span><span class="punctuation">)</span>函数可用来计算协方差。默认是皮尔逊相关系数，</span><br><span class="line">cor<span class="punctuation">(</span>states<span class="punctuation">,</span> method<span class="operator">=</span><span class="string">&quot;spearman&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="偏向关"><a href="#偏向关" class="headerlink" title="偏向关"></a>偏向关</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">偏相关是指在控制一个或多个定量变量（要排除影响的定量变量）时，另外两个</span><br><span class="line">定量变量之间的相互关系。</span><br><span class="line">• 可以使用ggm包中的pcor<span class="punctuation">(</span><span class="punctuation">)</span>函数计算偏相关系数。</span><br><span class="line">pcor<span class="punctuation">(</span><span class="punctuation">)</span>函数调用格式为：pcor<span class="punctuation">(</span>u<span class="punctuation">,</span> S<span class="punctuation">)</span></span><br><span class="line">其中的u是一个数值向量，前两个数值表示要计算相关系数的变量下标，其余的数值为条件变量（即要排除影响的变量）的下标。S为变量的协方差阵</span><br></pre></td></tr></table></figure>

<h2 id="相关性的显著性检验"><a href="#相关性的显著性检验" class="headerlink" title="相关性的显著性检验"></a>相关性的显著性检验</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">cor.test<span class="punctuation">(</span><span class="punctuation">)</span>函数</span><br><span class="line"></span><br><span class="line">cor.test<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> alternative <span class="operator">=</span></span><br><span class="line"><span class="punctuation">,</span> method <span class="operator">=</span> <span class="punctuation">)</span> – 其中的x和y为要检验相关性的变量</span><br><span class="line">– alternative用来指定进行双侧检验或单侧检验（取值为<span class="string">&quot;two.side&quot;</span>、<span class="string">&quot;less&quot;</span>或<span class="string">&quot;greater&quot;</span>），</span><br><span class="line">– method用以指定要计算的相关类型（<span class="string">&quot;pearson&quot;</span>、<span class="string">&quot;kendall&quot;</span>或<span class="string">&quot;spearman&quot;</span>）</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">corr.test<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> use<span class="operator">=</span></span><br><span class="line"><span class="punctuation">,</span> method <span class="operator">=</span> <span class="punctuation">)</span> – 参数use<span class="operator">=</span>的取值可为<span class="string">&quot;pairwise&quot;</span>或<span class="string">&quot;complete&quot;</span></span><br><span class="line">（分别表示对缺失值执行成对删除或行删除）。</span><br><span class="line">– 参数method<span class="operator">=</span>的取值可为<span class="string">&quot;pearson&quot;</span>（默认值）、<span class="string">&quot;spearman&quot;</span>或<span class="string">&quot;kendall&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="T检验"><a href="#T检验" class="headerlink" title="T检验"></a>T检验</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">原始测量值服从t分布。</span><br><span class="line">• 原假设：针对两组独立样本（并且是从正态总体中抽得），两个总体的均值相等。</span><br><span class="line"></span><br><span class="line">• t检验的第一种调用格式为：</span><br><span class="line">t.test<span class="punctuation">(</span>y <span class="operator">~</span> x<span class="punctuation">,</span> data<span class="punctuation">)</span></span><br><span class="line">其中的y是一个数值型变量，x是一个二分变量。</span><br><span class="line">• t检验的第二种调用格式为：</span><br><span class="line">t.test<span class="punctuation">(</span>y1<span class="punctuation">,</span> y2<span class="punctuation">)</span></span><br><span class="line">其中的y1和y2为数值型向量。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="方差分析ANOVA"><a href="#方差分析ANOVA" class="headerlink" title="方差分析ANOVA"></a>方差分析<code>ANOVA</code></h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">首先得保证是正态总体，假设每组均值相等</span><br><span class="line"></span><br><span class="line">方差分析主要用于分析分类型自变量和数值型因变量之间的关系</span><br><span class="line"></span><br><span class="line">aov<span class="punctuation">(</span>formula<span class="punctuation">,</span> data <span class="operator">=</span> dataframe）</span><br></pre></td></tr></table></figure>

<h2 id="多重比较"><a href="#多重比较" class="headerlink" title="多重比较"></a>多重比较</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">TukeyHSD<span class="punctuation">(</span><span class="punctuation">)</span>函数提供了对各组均值差异的成对检验</span><br><span class="line">进行两个两个之间的差别	</span><br></pre></td></tr></table></figure>

<h2 id="双因素方差分析"><a href="#双因素方差分析" class="headerlink" title="双因素方差分析"></a>双因素方差分析</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">fit <span class="operator">&lt;-</span> aov<span class="punctuation">(</span>len <span class="operator">~</span> supp<span class="operator">*</span>dose<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interaction.plot<span class="punctuation">(</span><span class="punctuation">)</span>函数来展示双因素方差分析的交互效应</span><br><span class="line"></span><br><span class="line">可以用gplots包中的plotmeans<span class="punctuation">(</span><span class="punctuation">)</span>函数来展示交互效应</span><br><span class="line"></span><br><span class="line">可以HH包中的interaction2wt<span class="punctuation">(</span><span class="punctuation">)</span>函数来可视化结果，图形对任意顺序的因子设计的主效应和交互效应都会进行展示</span><br></pre></td></tr></table></figure>

<h2 id="组间差异的非参数检验"><a href="#组间差异的非参数检验" class="headerlink" title="组间差异的非参数检验"></a>组间差异的非参数检验</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">两组数据独立，可以使用Wilcoxon秩和检验<span class="punctuation">,</span>来评估观测是否是从相同的概率分布中抽得的</span><br><span class="line"></span><br><span class="line">第一种调用格式为：</span><br><span class="line">wilcox.test<span class="punctuation">(</span>y <span class="operator">~</span> x<span class="punctuation">,</span> data<span class="punctuation">)</span></span><br><span class="line">其中的y是数值型变量，而x是一个二分变量。</span><br><span class="line">• 第二种调用格式为：</span><br><span class="line">wilcox.test<span class="punctuation">(</span>y1<span class="punctuation">,</span> y2<span class="punctuation">)</span></span><br><span class="line">其中的y1和y2为各组的结果变量</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">多于两组</span><br><span class="line">如果无法满足ANOVA设计的假设，那么可以使用非参数方法来评估组间的差异。</span><br><span class="line">• 如果各组独立，可以使用Kruskal—Wallis检验。</span><br><span class="line">kruskal.test<span class="punctuation">(</span>y <span class="operator">~</span> A<span class="punctuation">,</span> data<span class="punctuation">)</span></span><br><span class="line">• 如果各组不独立（如重复测量设计或随机区组设计），可以使用Friedman检验。</span><br><span class="line">friedman.test<span class="punctuation">(</span>y <span class="operator">~</span> A <span class="operator">|</span>B，data<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h1 id="dataTable"><a href="#dataTable" class="headerlink" title="dataTable"></a><code>dataTable</code></h1><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">读取数据</span><br><span class="line">可以使用data.table的fread<span class="punctuation">(</span><span class="punctuation">)</span>函数进行数据读取</span><br><span class="line"></span><br><span class="line">可以通过data.table<span class="punctuation">(</span><span class="punctuation">)</span>创建一个data.table</span><br><span class="line"></span><br><span class="line">as.data.table<span class="punctuation">(</span><span class="punctuation">)</span>将已经存在的对象转化成data.table</span><br></pre></td></tr></table></figure>



<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">i表示subset行，表示选择多少观测</span><br><span class="line">j表示select列，用 <span class="built_in">list</span><span class="punctuation">(</span><span class="punctuation">)</span> 把列名包围起来，它可以确保返回值是data.table。还可以对列进行计算合并，也可以重命名</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">特别的符号 .N，相当于<span class="built_in">length</span><span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">– .N 是一个内建的变量，它表示当前的分组中，对象的数目。在下一节，当它和 by 一起使用的时候，我们会发现它特别有用。还没有涉及到分组的时候，它只是简单地返回行的数目</span><br></pre></td></tr></table></figure>

<h3 id="by分组"><a href="#by分组" class="headerlink" title="by分组"></a>by分组</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">ans <span class="operator">&lt;-</span> flights<span class="punctuation">[</span><span class="punctuation">,</span> .<span class="punctuation">(</span>.N<span class="punctuation">)</span><span class="punctuation">,</span> by<span class="operator">=</span>.<span class="punctuation">(</span>origin<span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">– .N 表示当前的分组中，对象的数目。先按照 origin 列分组，再用 .N 获取每组的数目</span><br><span class="line">在by中.<span class="punctuation">(</span><span class="punctuation">)</span>可以表示用<span class="built_in">list</span>来进行分类</span><br><span class="line">.<span class="punctuation">(</span><span class="punctuation">)</span>将其转化为datatable，之后计算.N</span><br></pre></td></tr></table></figure>

<h3 id="keyby关键字"><a href="#keyby关键字" class="headerlink" title="keyby关键字"></a>keyby关键字</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">只是把 by 改为了 keyby。这会自动的将结果按照升序排列。注意 keyby<span class="punctuation">(</span><span class="punctuation">)</span> 是在数据操作完成后才进行。</span><br><span class="line">– 实际上 keyby 做的不只是排序。它在排序之后，设置一个叫做sorted的属性。</span><br><span class="line">相当于把这里面的值当作了主键</span><br></pre></td></tr></table></figure>

<h3 id="chaining表达式"><a href="#chaining表达式" class="headerlink" title="chaining表达式"></a>chaining表达式</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">我们可以一个接一个地添加表达式，做一系列操作，就像</span><br><span class="line">这样：DT<span class="punctuation">[</span>...<span class="punctuation">]</span><span class="punctuation">[</span>...<span class="punctuation">]</span><span class="punctuation">[</span>...<span class="punctuation">]</span>。也可以换行写：DT<span class="punctuation">[</span>... </span><br><span class="line">                              			<span class="punctuation">]</span><span class="punctuation">[</span>...</span><br><span class="line">                                         <span class="punctuation">]</span><span class="punctuation">[</span>...</span><br><span class="line">                                          <span class="punctuation">]</span></span><br><span class="line">不会生成临时变量</span><br></pre></td></tr></table></figure>

<h3 id="SD语法"><a href="#SD语法" class="headerlink" title=".SD语法"></a>.SD语法</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">– .SD是Subset of Data的缩写。它自身就是一个data.table，包含通过by 分组后的每一组</span><br><span class="line"></span><br><span class="line">lapply函数和sapply函数相似 ，前者返回列表，后者返回向量</span><br></pre></td></tr></table></figure>

<h3 id="SDcols关键字"><a href="#SDcols关键字" class="headerlink" title=".SDcols关键字"></a><code>.SDcols</code>关键字</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">选取一些.SD中的一些变量，指定选取，即和.SD一块使用，.SD计算.SDcols选中的列</span><br></pre></td></tr></table></figure>

<h2 id="dataTable语义引用"><a href="#dataTable语义引用" class="headerlink" title="dataTable语义引用"></a><code>dataTable</code>语义引用</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="operator">:=</span> 如果没有列那么会新增列，如果有会直接进行修改，删除元素直接将值进行<span class="literal">NULL</span>处理，相当于指针引用，会直接改变原来数据的值，要进行操作时候，考虑新加一列获得数据后赋值<span class="literal">NULL</span>，一般不使用copy函数进行拷贝	</span><br></pre></td></tr></table></figure>

<h3 id="copy函数"><a href="#copy函数" class="headerlink" title="copy函数"></a><code>copy</code>函数</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">操作符“<span class="operator">:=</span>”会更新原数据。当我们不想更新原数据时，可以用函数 copy<span class="punctuation">(</span><span class="punctuation">)</span>，深拷贝，一般不会使用，因为会影响内存使用</span><br></pre></td></tr></table></figure>

<h2 id="dataTable主键"><a href="#dataTable主键" class="headerlink" title="dataTable主键"></a><code>dataTable</code>主键</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">所有的data.frame都有一个行名的属性，但是行名是独一无二的而且每行都有</span><br><span class="line">所以data.table从不使用行名</span><br><span class="line"></span><br><span class="line">setkey<span class="punctuation">(</span>flights<span class="punctuation">,</span> origin） 设置主键，主键不强制唯一性</span><br><span class="line">       </span><br><span class="line">可以给函数setkey<span class="punctuation">(</span><span class="punctuation">)</span> 传入列名作为参数，不需要引号。这在交互式使用的时候特别方便。</span><br><span class="line">– 还可以给函数setkeyv<span class="punctuation">(</span><span class="punctuation">)</span> 传入一个列名向量，以便设置多个列名作为主键</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">一旦将某一列设置成data.table的主键，就可以在参数i里指定 .<span class="punctuation">(</span><span class="punctuation">)</span>来subset哪些主键了       </span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">key<span class="punctuation">(</span><span class="punctuation">)</span> 查找主键列</span><br><span class="line">获得被设置为data.table的主键的那一列的列名，使用函数 key<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">设置多个主键</span><br><span class="line">setkey<span class="punctuation">(</span>flights<span class="punctuation">,</span> origin<span class="punctuation">,</span> dest<span class="punctuation">)</span></span><br><span class="line">或：setkeyv<span class="punctuation">(</span>flights<span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;origin&quot;</span><span class="punctuation">,</span><span class="string">&quot;dest&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h3 id="keyby"><a href="#keyby" class="headerlink" title="keyby"></a><code>keyby</code></h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">keyby<span class="punctuation">(</span>month<span class="punctuation">)</span></span><br><span class="line">使用参数keyby来自动将month设置为结果的主键。它使得结果不仅按month列排序，而且将month设置为主键：key<span class="punctuation">(</span>ans<span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="mult"><a href="#mult" class="headerlink" title="mult"></a><code>mult</code></h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">对于每次查询，可以通过参数mult，指定所有符合条件的行“<span class="built_in">all</span>”都被返回，还是只返回第一行“first”或者最后一行“last”。默认是所有的行“<span class="built_in">all</span>”</span><br></pre></td></tr></table></figure>

<h3 id="nomatch"><a href="#nomatch" class="headerlink" title="nomatch"></a><code>nomatch</code></h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">指定在没有找到符合条件的数据的情况下，是返回<span class="literal">NA</span>呢，还是跳过</span><br><span class="line">在经过挑选后，有的条件找不到，可以将他设置返回<span class="literal">NA</span>还是不返回</span><br></pre></td></tr></table></figure>

<h3 id="注意-3"><a href="#注意-3" class="headerlink" title="注意"></a>注意</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">对于主键设置的时候，会自动按照主键列进行排序，但是如果主键列顺序发生变化或者对主键列进行操作，那么会自动把主键删除掉</span><br></pre></td></tr></table></figure>

<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">设置二级索引</span><br><span class="line">setindex（flights<span class="punctuation">,</span> orign）</span><br><span class="line"></span><br><span class="line">设置索引不会进行排序</span><br><span class="line">setindex<span class="punctuation">(</span>flights<span class="punctuation">,</span> <span class="literal">NULL</span><span class="punctuation">)</span>会删除所有的二级索引</span><br><span class="line">indices<span class="punctuation">(</span>flights<span class="punctuation">)</span>获取当前的索引</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">on语法设置成为索引</span><br><span class="line"></span><br><span class="line">flights<span class="punctuation">[</span><span class="string">&quot;JFK&quot;</span><span class="punctuation">,</span> on <span class="operator">=</span> <span class="string">&quot;origin&quot;</span><span class="punctuation">]</span></span><br><span class="line">不会把这个二级索引自动创建为data.table的一个属性</span><br></pre></td></tr></table></figure>

<h2 id="subset推荐语法on"><a href="#subset推荐语法on" class="headerlink" title="subset推荐语法on"></a><code>subset</code>推荐语法<code>on</code></h2><h1 id="ggplot2"><a href="#ggplot2" class="headerlink" title="ggplot2"></a><code>ggplot2</code></h1><h2 id="qplot"><a href="#qplot" class="headerlink" title="qplot"></a><code>qplot</code></h2><p><code>qplot</code>即quick plot 能快速对数据进行可视化分析</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">qplot<span class="punctuation">(</span><span class="punctuation">)</span>前两个参数是x和y，分别代表图中所画对象的x坐标和y坐标。data参数可选，如果指定，那么qplot首先会在该数据框内查找变量名</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">qplot可以对颜色进行自动转换</span><br><span class="line">colour属性指定颜色</span><br><span class="line">alpha用来创建半透明的颜色，其取值从0（完全透明）到1（完全不透明）</span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">geom参数来设置图的样式，eg<span class="operator">:</span>point散点图 smooth拟合平滑曲线 boxplot箱型图 path或line数据点间绘制连线</span><br><span class="line"></span><br><span class="line">geom可以传多个参数，eg<span class="operator">:</span>geom <span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;point&quot;</span><span class="punctuation">,</span><span class="string">&quot;smooth&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">一维变量——————————————————————————</span><br><span class="line">– 连续变量</span><br><span class="line">• geom <span class="operator">=</span> <span class="string">&quot;histogram&quot;</span> 直方图（一维数据默认选项）</span><br><span class="line">• geom <span class="operator">=</span> <span class="string">&quot;freqpoly&quot;</span> 频率多边形</span><br><span class="line">• geom <span class="operator">=</span> <span class="string">&quot;density&quot;</span> 密度曲线</span><br><span class="line">– 离散变量</span><br><span class="line">• geom <span class="operator">=</span> <span class="string">&quot;bar&quot;</span> 条形图</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">geom <span class="operator">=</span> <span class="string">&quot;jittered&quot;</span> 扰动点图，相当于左右晃动，把重合点分开</span><br><span class="line">• 对于密度曲线图，adjust参数控制曲线平滑程度（取值越大越平滑）</span><br><span class="line">• 对于直方图，通过binwidth参数设定组距来调节平滑度。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">条形图 bar</span><br><span class="line">对于条形图，还可以加权进行绘制，weigh</span><br></pre></td></tr></table></figure>

<h3 id="分面"><a href="#分面" class="headerlink" title="分面"></a>分面</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">除了利用颜色和形状来比较不同分组，还可以用分面：将数据分割成若干子集，然后创建一个图形的矩阵。</span><br><span class="line">• qplot<span class="punctuation">(</span><span class="punctuation">)</span>默认的分面方法是拆分成若干个窗格，通过形如facets <span class="operator">=</span> row<span class="operator">-</span>var <span class="operator">~</span> col_var的表达式进行指定。如果只想指定一行或一列，可以使用“.”作为占位符，例如row<span class="operator">-</span>var <span class="operator">~</span> .会创建一个单列多行的图形矩阵</span><br></pre></td></tr></table></figure>

<h3 id="其他选项"><a href="#其他选项" class="headerlink" title="其他选项"></a>其他选项</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">xlim<span class="punctuation">,</span> ylim：设置x轴和y轴的显示区间，例如，xlim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span> 和 ylim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">0.9</span><span class="punctuation">,</span> <span class="operator">-</span><span class="number">0.5</span><span class="punctuation">)</span></span><br><span class="line">• <span class="built_in">log</span>：<span class="built_in">log</span><span class="operator">=</span><span class="string">&quot;x&quot;</span> 表示对x轴取对数；<span class="built_in">log</span><span class="operator">=</span><span class="string">&quot;xy&quot;</span>表示对x轴和y轴都取对数。</span><br><span class="line">• main：图形主标题。可以是字符串也可以是数学表达式。</span><br><span class="line">• xlab<span class="punctuation">,</span> ylab：设置x和y轴的标签文字，可以是字符串或数学表达式</span><br></pre></td></tr></table></figure>

<h2 id="qplot理论基础"><a href="#qplot理论基础" class="headerlink" title="qplot理论基础"></a>qplot理论基础</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="qq:860211327">Curry Jay</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://curry-jay.github.io/posts/42926.html">https://curry-jay.github.io/posts/42926.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://curry-jay.github.io" target="_blank">Curry的小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E6%A0%A1%E5%AD%A6%E4%B9%A0/">学校学习</a><a class="post-meta__tags" href="/tags/%E4%B8%9C%E5%8C%97%E5%A4%A7%E5%AD%A6/">东北大学</a><a class="post-meta__tags" href="/tags/R%E8%AF%AD%E8%A8%80/">R语言</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/1747.html" title="推荐系统"><img class="cover" src= "/image/loading.gif" data-lazy-src="/image/top/course/dbdx/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">推荐系统</div></div><div class="info-2"><div class="info-item-1">数据切分——划分为测试集合和训练集合 Ratio其中0.8为训练，0.2为测试，缺点——每次选择的测试集合随机 Givenn留下N份进行测试 其中分为三种方法 留一留下一份数据用来做测试，其余的都用来做训练 留下用户留下一个用户数据里面的固定数据个数用来做测试，其余的用来做训练 留下项目留下一个类型（项目）数据里面的固定数据个数用来做测试，其余的用来做训练 kcv将数据分成k份，然后选取一份用来测试，其余用来训练，然后运行K次，让每份数据都测试，然后对K次运行结果取平均值 testset直接切分好测试集和训练集 推荐模型 非个性化推荐显示反馈与隐式反馈 显示反馈相当于喜欢 隐式反馈相当于兴趣，显示反馈由于数据太少，可以用隐式反馈补充数据 协同过滤(Collaborative Filtering)根据其他人的数据进行推荐...</div></div></div></a><a class="pagination-related" href="/posts/48081.html" title="待办清单"><img class="cover" src= "/image/loading.gif" data-lazy-src="/image/top/Live/toDoList.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">待办清单</div></div><div class="info-2"><div class="info-item-1">新增博客记录由于自己太懒了，这个博客维护一直是有笔记才来维护，很长时间不来就容易忘记博客操作记录，索性直接记录在最前面得了，😄hexo new back/Linux/Docker复习 -p  back/Linux/Docker复习   博客头顶内容：    title: 个人博客搭建    date: 2024-12-18 17:19:20    tags:         - 其他    categories:         - 其他    keywords: 个人博客搭建    description: hexo搭建个人博客，使用butterfly主题    top_img: /image/top/other/Personal-blog-building.png #顶部图片    cover: posts/24403/Personal-blog-building.assets/hexo.png #封面图片    abbrlink: 24403（自动生成  运行记录先生成一遍文件输入命令（blog目录下使用git）：hexo g自己本地运行指令启动hexo服务 hexo...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/1747.html" title="推荐系统"><img class="cover" src= "/image/loading.gif" data-lazy-src="/image/top/course/dbdx/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-05</div><div class="info-item-2">推荐系统</div></div><div class="info-2"><div class="info-item-1">数据切分——划分为测试集合和训练集合 Ratio其中0.8为训练，0.2为测试，缺点——每次选择的测试集合随机 Givenn留下N份进行测试 其中分为三种方法 留一留下一份数据用来做测试，其余的都用来做训练 留下用户留下一个用户数据里面的固定数据个数用来做测试，其余的用来做训练 留下项目留下一个类型（项目）数据里面的固定数据个数用来做测试，其余的用来做训练 kcv将数据分成k份，然后选取一份用来测试，其余用来训练，然后运行K次，让每份数据都测试，然后对K次运行结果取平均值 testset直接切分好测试集和训练集 推荐模型 非个性化推荐显示反馈与隐式反馈 显示反馈相当于喜欢 隐式反馈相当于兴趣，显示反馈由于数据太少，可以用隐式反馈补充数据 协同过滤(Collaborative Filtering)根据其他人的数据进行推荐...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "/image/loading.gif" data-lazy-src="/image/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Curry Jay</div><div class="author-info-description">xjtu软件工程在读研究生</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Curry-jay"><i class="fab fa-github"></i><span>关注我</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这是我的博客，欢迎光临我的博客，刚开始搭建内容</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">1.1.</span> <span class="toc-text">首先区分大小写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">运行原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.3.</span> <span class="toc-text">赋值语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.4.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E7%A9%BA%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">管理空间函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.1.</span> <span class="toc-text">生成脚本文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E8%BD%BD%E5%85%A5"><span class="toc-number">1.6.</span> <span class="toc-text">包的安装以及载入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.6.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%BD%E5%85%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">载入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E9%87%8F"><span class="toc-number">2.1.</span> <span class="toc-text">向量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5"><span class="toc-number">2.2.</span> <span class="toc-text">矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E4%B8%8B%E6%A0%87%E4%BD%BF%E7%94%A8"><span class="toc-number">2.2.1.</span> <span class="toc-text">矩阵下标使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">2.4.</span> <span class="toc-text">数据框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#attach-%E5%87%BD%E6%95%B0"><span class="toc-number">2.5.</span> <span class="toc-text">attach()函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%A0%E5%AD%90"><span class="toc-number">2.6.</span> <span class="toc-text">因子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8List"><span class="toc-number">2.7.</span> <span class="toc-text">列表List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5"><span class="toc-number">2.8.</span> <span class="toc-text">数据输入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">2.8.1.</span> <span class="toc-text">处理数据对象常用函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-number">2.9.</span> <span class="toc-text">键盘输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#str%E5%87%BD%E6%95%B0"><span class="toc-number">2.10.</span> <span class="toc-text">str函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.11.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.2.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E9%87%8D%E7%BC%96%E7%A0%81"><span class="toc-number">3.3.</span> <span class="toc-text">变量重编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-number">3.4.</span> <span class="toc-text">变量重命名</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rename"><span class="toc-number">3.4.1.</span> <span class="toc-text">rename</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#names"><span class="toc-number">3.4.2.</span> <span class="toc-text">names</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%BC%82%E5%B8%B8%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-number">3.5.</span> <span class="toc-text">缺失值异常值处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.1.</span> <span class="toc-text">检查缺失值函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E7%BC%96%E7%A0%81%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">3.5.2.</span> <span class="toc-text">重编码缺失值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%97%B6%E5%80%99%E7%A7%BB%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">3.5.3.</span> <span class="toc-text">计算时候移除缺失值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F"><span class="toc-number">3.6.</span> <span class="toc-text">日期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.</span> <span class="toc-text">数据转换函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">3.8.</span> <span class="toc-text">数据排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6"><span class="toc-number">3.9.</span> <span class="toc-text">数据合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%89%E5%AD%90%E9%9B%86"><span class="toc-number">3.10.</span> <span class="toc-text">数据选子集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E7%BD%AE"><span class="toc-number">3.11.</span> <span class="toc-text">数据转置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%95%B4%E5%90%88%E5%92%8C%E9%87%8D%E6%9E%84"><span class="toc-number">3.12.</span> <span class="toc-text">数据整合和重构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E4%B8%8E%E5%BE%AA%E7%8E%AF"><span class="toc-number">3.13.</span> <span class="toc-text">条件与循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E7%BC%96%E5%87%BD%E6%95%B0"><span class="toc-number">3.14.</span> <span class="toc-text">用户自编函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-1"><span class="toc-number">3.15.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">数据可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%81%94%E8%A1%A8"><span class="toc-number">4.1.</span> <span class="toc-text">列联表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="toc-number">4.2.</span> <span class="toc-text">条形图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A5%BC%E5%9B%BE"><span class="toc-number">4.3.</span> <span class="toc-text">饼图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%87%E5%BD%A2%E5%9B%BE"><span class="toc-number">4.4.</span> <span class="toc-text">扇形图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">4.5.</span> <span class="toc-text">直方图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%AF%86%E5%BA%A6%E5%9B%BE"><span class="toc-number">4.6.</span> <span class="toc-text">核密度图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lines%E5%87%BD%E6%95%B0"><span class="toc-number">4.7.</span> <span class="toc-text">lines函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%B1%E7%BA%BF%E5%9B%BE-%E7%9B%92%E8%A3%85%E5%9B%BE"><span class="toc-number">4.8.</span> <span class="toc-text">箱线图&#x2F;盒装图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%88%97%E7%AE%B1%E7%BA%BF%E5%9B%BE%E8%BF%9B%E8%A1%8C%E8%B7%A8%E7%BB%84%E6%AF%94%E8%BE%83"><span class="toc-number">4.8.1.</span> <span class="toc-text">并列箱线图进行跨组比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B9%E5%9B%BE"><span class="toc-number">4.9.</span> <span class="toc-text">点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">4.10.</span> <span class="toc-text">散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#abline%E5%87%BD%E6%95%B0"><span class="toc-number">4.11.</span> <span class="toc-text">abline函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE%E7%9F%A9%E9%98%B5"><span class="toc-number">4.12.</span> <span class="toc-text">散点图矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E5%AF%86%E5%BA%A6%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">4.13.</span> <span class="toc-text">高密度散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E6%95%A3%E7%82%B9%E5%9B%BE%E2%80%94%E6%B2%A1%E7%94%A8"><span class="toc-number">4.14.</span> <span class="toc-text">三维散点图—没用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B0%94%E6%B3%A1%E5%9B%BE"><span class="toc-number">4.15.</span> <span class="toc-text">气泡图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">4.16.</span> <span class="toc-text">折线图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%9B%BE"><span class="toc-number">4.17.</span> <span class="toc-text">相关图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A9%AC%E8%B5%9B%E5%85%8B%E5%9B%BE"><span class="toc-number">4.18.</span> <span class="toc-text">马赛克图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-2"><span class="toc-number">4.19.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="toc-number">5.</span> <span class="toc-text">基本统计分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">统计函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#summary%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">summary函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sapply%E5%87%BD%E6%95%B0"><span class="toc-number">5.3.</span> <span class="toc-text">sapply函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#aggregate%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text">aggregate函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#by%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.</span> <span class="toc-text">by函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%91%E6%95%B0%E8%A1%A8"><span class="toc-number">5.6.</span> <span class="toc-text">频数表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%81%94%E8%A1%A8-1"><span class="toc-number">5.7.</span> <span class="toc-text">列联表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E5%88%97%E8%81%94%E8%A1%A8"><span class="toc-number">5.8.</span> <span class="toc-text">多维列联表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A1%E6%96%B9%E6%A3%80%E9%AA%8C"><span class="toc-number">5.9.</span> <span class="toc-text">卡方检验</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fisher%E5%88%97%E8%81%94%E8%A1%A8"><span class="toc-number">5.10.</span> <span class="toc-text">fisher列联表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cochran-Mantel-Haenszel%E6%A3%80%E9%AA%8C"><span class="toc-number">5.11.</span> <span class="toc-text">Cochran-Mantel-Haenszel检验</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%80%A7%E5%BA%A6%E9%87%8F"><span class="toc-number">5.12.</span> <span class="toc-text">相关性度量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%80%A7%E6%A3%80%E9%AA%8C"><span class="toc-number">5.13.</span> <span class="toc-text">相关性检验</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%90%91%E5%85%B3"><span class="toc-number">5.14.</span> <span class="toc-text">偏向关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E6%98%BE%E8%91%97%E6%80%A7%E6%A3%80%E9%AA%8C"><span class="toc-number">5.15.</span> <span class="toc-text">相关性的显著性检验</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#T%E6%A3%80%E9%AA%8C"><span class="toc-number">5.16.</span> <span class="toc-text">T检验</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90ANOVA"><span class="toc-number">5.17.</span> <span class="toc-text">方差分析ANOVA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E6%AF%94%E8%BE%83"><span class="toc-number">5.18.</span> <span class="toc-text">多重比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%9B%A0%E7%B4%A0%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90"><span class="toc-number">5.19.</span> <span class="toc-text">双因素方差分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E9%97%B4%E5%B7%AE%E5%BC%82%E7%9A%84%E9%9D%9E%E5%8F%82%E6%95%B0%E6%A3%80%E9%AA%8C"><span class="toc-number">5.20.</span> <span class="toc-text">组间差异的非参数检验</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dataTable"><span class="toc-number">6.</span> <span class="toc-text">dataTable</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">6.1.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#by%E5%88%86%E7%BB%84"><span class="toc-number">6.1.1.</span> <span class="toc-text">by分组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keyby%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">6.1.2.</span> <span class="toc-text">keyby关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chaining%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">6.1.3.</span> <span class="toc-text">chaining表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SD%E8%AF%AD%E6%B3%95"><span class="toc-number">6.1.4.</span> <span class="toc-text">.SD语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SDcols%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">6.1.5.</span> <span class="toc-text">.SDcols关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dataTable%E8%AF%AD%E4%B9%89%E5%BC%95%E7%94%A8"><span class="toc-number">6.2.</span> <span class="toc-text">dataTable语义引用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#copy%E5%87%BD%E6%95%B0"><span class="toc-number">6.2.1.</span> <span class="toc-text">copy函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dataTable%E4%B8%BB%E9%94%AE"><span class="toc-number">6.3.</span> <span class="toc-text">dataTable主键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#keyby"><span class="toc-number">6.3.1.</span> <span class="toc-text">keyby</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mult"><span class="toc-number">6.3.2.</span> <span class="toc-text">mult</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nomatch"><span class="toc-number">6.3.3.</span> <span class="toc-text">nomatch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-3"><span class="toc-number">6.3.4.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">6.4.</span> <span class="toc-text">索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#subset%E6%8E%A8%E8%8D%90%E8%AF%AD%E6%B3%95on"><span class="toc-number">6.5.</span> <span class="toc-text">subset推荐语法on</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ggplot2"><span class="toc-number">7.</span> <span class="toc-text">ggplot2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#qplot"><span class="toc-number">7.1.</span> <span class="toc-text">qplot</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%9D%A2"><span class="toc-number">7.1.1.</span> <span class="toc-text">分面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%80%89%E9%A1%B9"><span class="toc-number">7.1.2.</span> <span class="toc-text">其他选项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#qplot%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80"><span class="toc-number">7.2.</span> <span class="toc-text">qplot理论基础</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/3876.html" title="Consul服务中心"><img src= "/image/loading.gif" data-lazy-src="/image/top/back/consul.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Consul服务中心"/></a><div class="content"><a class="title" href="/posts/3876.html" title="Consul服务中心">Consul服务中心</a><time datetime="2025-09-08T14:54:09.000Z" title="发表于 2025-09-08 22:54:09">2025-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/0.html" title="无标题"><img src= "/image/loading.gif" data-lazy-src="/image/background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无标题"/></a><div class="content"><a class="title" href="/posts/0.html" title="无标题">无标题</a><time datetime="2025-09-08T14:54:02.407Z" title="发表于 2025-09-08 22:54:02">2025-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/47860.html" title="back/Linux/Docker复习"><img src= "/image/loading.gif" data-lazy-src="/image/top/back/Linux/docker.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="back/Linux/Docker复习"/></a><div class="content"><a class="title" href="/posts/47860.html" title="back/Linux/Docker复习">back/Linux/Docker复习</a><time datetime="2025-09-02T12:19:40.000Z" title="发表于 2025-09-02 20:19:40">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/55889.html" title="mybatisPlus复习"><img src= "/image/loading.gif" data-lazy-src="/image/top/back/Database/mybatisPlus.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mybatisPlus复习"/></a><div class="content"><a class="title" href="/posts/55889.html" title="mybatisPlus复习">mybatisPlus复习</a><time datetime="2025-07-26T09:26:46.000Z" title="发表于 2025-07-26 17:26:46">2025-07-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/58965.html" title="Redis原理和实战"><img src= "/image/loading.gif" data-lazy-src="/image/top/back/Database/Redis-1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis原理和实战"/></a><div class="content"><a class="title" href="/posts/58965.html" title="Redis原理和实战">Redis原理和实战</a><time datetime="2025-07-13T13:05:12.000Z" title="发表于 2025-07-13 21:05:12">2025-07-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/image/top/course/dbdx/R.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Curry Jay</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎光临我的小屋!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.2.2"></script><script src="/js/main.js?v=5.2.2"></script><script src="/js/tw_cn.js?v=5.2.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.4.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="/config/js/catagory.js?1"></script><script src="https://cdn.staticfile.net/jquery/3.7.1/jquery.min.js"></script><script type="text/javascript" src="/config/js/rightmenu.js?1"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script><script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/index.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.2.2"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/生活/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 生活趣闻 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/后端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 后端学习 (18)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/其他/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🧑‍💻 其他内容 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/前端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🕵️ 前端学习 (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/比赛/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">⛹️‍♂️ 比赛内容 (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/学校学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🏫 学校学习记录 (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://curry-jay.github.io/categories/软件使用/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🖥️ 软件使用技巧 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://curry-jay.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #49B1F5}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/18872.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "/image/loading.gif" data-lazy-src="/image/top_first.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-12-17</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/18872.html&quot;);" href="javascript:void(0);" alt="">欢迎来到我的小屋</a><div class="blog-slider__text">由于笔记放在实验室电脑和自己电脑上查询不方便，所以想做一个博客将这些东西整合起来！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/18872.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/48081.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "/image/loading.gif" data-lazy-src="/image/top/Live/toDoList.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-05</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/48081.html&quot;);" href="javascript:void(0);" alt="">待办清单</a><div class="blog-slider__text">统计一下待办清单!</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/48081.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end -->
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: true,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>